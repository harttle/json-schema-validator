<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <title>JSON Schema Validator</title>
  <link rel="stylesheet" href="./css/index.css">
</head>

<body>
  <div class="page-content">
    <div class="top-nav">
      <a class="brand" href="./validate">
        <span>JSON Schema Validator</span>
      </a>
      <ul>
        <li><a target="_blank" href="http://json-schema.org/">文档</a></li>
      </ul>
    </div>
    <div class="editor-layout">
      <div class="editor-wrap">
        <div class="editor-bar">
          <ul>
            <li><a href="https://json-schema.org/">Schema</a></li>
            <li class="pull-right"><a id="btn-infer" class="btn" href="#">生成</a></li>
          </ul>
        </div>
        <pre id="schema-editor" class="editor"></pre>
      </div>

      <div class="editor-wrap">
        <div class="editor-bar">
          <ul>
            <li><span>数据</span></li>
            <li class="pull-right"><a id="btn-validate" class="btn" href="#">校验</a></li>
          </ul>
        </div>
        <pre id="data-editor" class="editor">{
    "name": "Kerbal",
    "profession": "Kerbal Scientist",
    "married": false,
    "physical": {
        "weight": 52,
        "height": 172
    },
    "tags": ["humble", "great companion"]
}</pre>
      </div>
      <div id="konsole"></div>
    </div>
  </div>

  <footer> Copyright © 2018 </footer>

  <script src="./js/dep/jquery.js"></script>
  <script src="./js/dep/esl.js"></script>
  <script src="./js/dep/ace/ace.js"></script>
  <script>
    require.config({baseUrl: './js/', paths: {
      axios: 'dep/axios.min',
      jsg07: 'dep/jsg07.min',
      ajv: 'dep/ajv/ajv.min',
      'ajv-i18n/localize/zh': 'dep/ajv/locale-zh'
    }});

    require(['validator'], function (Validator) {
        var validator = new Validator();
        $('#btn-validate').click(function (e) {
            validator.validate();
            e.preventDefault();
        });
        $('#btn-infer').click(function (e) {
            validator.infer();
            e.preventDefault();
        });
    });
  </script>
</body>

</html>
